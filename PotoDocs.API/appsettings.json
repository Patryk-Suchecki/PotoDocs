{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "AllowedOrigins": "https://localhost:7220",
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=(localdb)\\MSSQLLocalDB;Initial Catalog=PotoDb;Integrated Security=True;Connect Timeout=30;Encrypt=False;Trust Server Certificate=False;Application Intent=ReadWrite;Multi Subnet Failover=False"
  },
  "Jwt": {
    "Key": "JWT_KEY",
    "Issuer": "https://localhost:7157/",
    "ExpireIMinutes": 720
  },
  "OpenAI": {
    "APIKey": "OPEN_AI_API_KEY",
    "SystemMessage": "You are a helpful assistant who extracts structured information from text.",
    "PromptTemplate": "Analyze the unstructured OCR text below (marked as {TEXT}) and extract data into a valid JSON object.\n\n---\n{TEXT}\n---\n\nJSON Schema & Extraction Rules:\n{\n  \"Company\": {\n    \"NIP\": \"VAT ID / Tax Number. STRATEGY: 1. Look for labels: 'NIP', 'VAT ID', 'Ust-ID-Nr', 'UID', 'Steuernummer'. 2. CRITICAL: The value is often in the PAGE FOOTER. Scan the very end of the text. 3. Look for a pattern: Country Code (DE, PL, FR) + digits (e.g., 'DE123456789'). If you find a matching pattern in the footer, extract it even if the label is messy or missing.\",\n    \"Name\": \"Name of the Ordering Party (Client/Spedition). Do not confuse with the Carrier (Auftragnehmer).\",\n    \"Address\": \"Full address of the Ordering Party.\",\n    \"CorrespondenceAddress\": \"Correspondence address if explicitly stated, otherwise null.\",\n    \"Country\": \"Two-letter ISO 3166-1 code based on address (e.g., 'DE', 'PL'). Default 'PL' if unknown.\",\n    \"AcceptsEInvoices\": \"Boolean (default false). Set to true if email for invoices is found.\",\n    \"EmailAddress\": \"Email address for invoices/contact. Return null if not found.\"\n  },\n  \"OrderNumber\": \"Order Reference Number (e.g., 'Transportauftrag', 'Order No', 'Ref').\",\n  \"Price\": \"Net freight price (decimal).\",\n  \"Currency\": \"Currency code (e.g., 'EUR').\",\n  \"PaymentDeadline\": \"Payment terms in days (int). RULE: If no specific number of days is found, YOU MUST RETURN 0. Do NOT return null.\",\n  \"Stops\": [\n    {\n      \"Type\": \"Enum: 0 for Loading (Ladestelle, Sender), 1 for Unloading (Entladestelle, Receiver).\",\n      \"Date\": \"ISO 8601 DateTime. CRITICAL RULE: If a time range is provided (e.g., '24.11.2025 08:00-16:00'), extract ONLY the start time ('2025-11-24T08:00:00'). Discard the end time and slashes.\",\n      \"Address\": \"Full address of the stop. Handle merged columns intelligently.\"\n    }\n  ]\n}"
  },
  "EmailService": {
    "ConnectionString": "AZURE_CONNECTION_STRING",
    "SenderAddress": "DoNotReply@PotoDocs.com",
    "SenderDisplayName": "PotoDocs"
  },
  "EuroRateUrlTemplate": "http://api.nbp.pl/api/exchangerates/rates/a/EUR/{0}/?format=json",
  "OrganizationSettings": {
    "LegalInfo": {
      "Name": "Testowa firma",
      "Address": "Test 67, 00-000 Test",
      "NIP": "0000000000",
      "PlaceOfIssue": "Test"
    },
    "Bank": {
      "BankName": "Bank",
      "AccountPLN": "00 0000 0000 0000 0000 0000 0000",
      "AccountEUR": "00 0000 0000 0000 0000 0000 0000",
      "IBAN": "PL00 0000 0000 0000 0000 0000 0000",
      "SWIFT": "XXXXXXXXXXX"
    }
  }
}